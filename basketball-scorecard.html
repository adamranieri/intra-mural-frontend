<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="basketball-scorecard.css">
    <title>Basketball Scorecard</title>
</head>
<body>

    <h3>Home Team</h3>
    <div id="homeTeam">

    </div>


    <h3>Away Team</h3>
    <div id="awayTeam">

    </div>


    <button onclick="save()">Save</button>
    
</body>
<script src="http-requests.js"></script>
<script>
    
    let players = ["hooper1","hooper2","hooper3","hooper4"];
    let scorecard = [];

    document.addEventListener("click", function(event){
        const {action,player} = event.target.dataset

        switch(action){
            case "Add1": document.getElementById(`${player}-points`).value -= Number(-1);break;
            case "Add2": document.getElementById(`${player}-points`).value -= Number(-2);break;
            case "Add3": document.getElementById(`${player}-points`).value -= Number(-3);break;
            case "AddFoul": document.getElementById(`${player}-fouls`).value -= Number(-1);break;
        }

    });

    function save(){
        let updatedScorecard = [];
        for(const player of players){
            const inputs = document.querySelectorAll(`*[id^="${player}"]`);
            const points = Number(inputs[0].value);
            const fouls = Number(inputs[1].value);
            const stat = {player,points,fouls};
            updatedScorecard.push(stat);
        }
        scorecard = updatedScorecard;
    }



    function PlayerStatList(player){

        return (`
        <dl>
            <dt>hooper1</dt>
            <dd>Points<input id="${player}-points" type="number" ><button data-action="Add1" data-player="${player}">Add 1 point</button><button data-action="Add2" data-player="${player}">Add 2 Points</button><button data-action="Add3" data-player="${player}">Add 3 Points</button></dd>
            <dd>Fouls<input id="${player}-fouls" type="number" ><button data-action="AddFoul" data-player="${player}">Add</button></dd>
        </dl>
        
        `);

    }
    
    async function renderPlayerLists(){
        const homeTeam = document.getElementById("homeTeam");
        const awayTeam = document.getElementById("awayTeam");

        for(const p of players){
            homeTeam.insertAdjacentHTML("afterend", PlayerStatList(p));
        }

    }

    renderPlayerLists()
    
</script>
</html>